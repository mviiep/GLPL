<?sap.transform simple?>
<tt:transform xmlns:tt="http://www.sap.com/transformation-templates">

  <tt:root name="header"/>
  <tt:root name="soapheader"/>
  <tt:root name="createdon"/>

  <tt:template>

    <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:sfin="http://sap.com/xi/SAPSCORE/SFIN">
      <soapenv:Header/>
      <soapenv:Body>
        <sfin:JournalEntryBulkCreateRequest>
          <MessageHeader>
            <CreationDateTime>
              <tt:value ref=".createdon"/>
            </CreationDateTime>
            <BusinessScope>
              <TypeCode listAgencyID="?" listID="?" listVersionID="?">?</TypeCode>
              <InstanceID schemeAgencyID="?" schemeID="?">?</InstanceID>
              <ID schemeAgencyID="?" schemeID="?">?</ID>
            </BusinessScope>
          </MessageHeader>

          <tt:loop name="wa_JournalEntry" ref=".header.JournalEntryCreateRequest">
          <JournalEntryCreateRequest>
            <MessageHeader>
              <CreationDateTime>
                <tt:value ref=".createdon"/>
              </CreationDateTime>
              <SenderParty/>
            </MessageHeader>
            <JournalEntry>

              <OriginalReferenceDocumentType>
                <tt:value ref="$wa_JournalEntry.OriginalReferenceDocumentType"/>
              </OriginalReferenceDocumentType>
              <BusinessTransactionType>
                <tt:value ref="$wa_JournalEntry.BusinessTransactionType"/>
              </BusinessTransactionType>
              <AccountingDocumentType>
                <tt:value ref="$wa_JournalEntry.AccountingDocumentType"/>
              </AccountingDocumentType>
              <DocumentReferenceID>
                <tt:value ref="$wa_JournalEntry.DocumentReferenceID"/>
              </DocumentReferenceID>
              <DocumentHeaderText>
                <tt:value ref="$wa_JournalEntry.DocumentHeaderText"/>
              </DocumentHeaderText>
              <CreatedByUser>
                <tt:value ref="$wa_JournalEntry.CreatedByUser"/>
              </CreatedByUser>
              <CompanyCode>
                <tt:value ref="$wa_JournalEntry.CompanyCode"/>
              </CompanyCode>
              <DocumentDate>
                <tt:value ref="$wa_JournalEntry.DocumentDate"/>
              </DocumentDate>
              <PostingDate>
                <tt:value ref="$wa_JournalEntry.PostingDate"/>
              </PostingDate>
              <TaxReportingDate>
                <tt:value ref="$wa_JournalEntry.TaxReportingDate"/>
              </TaxReportingDate>
              <TaxDeterminationDate>
                <tt:value ref="$wa_JournalEntry.TaxDeterminationDate"/>
              </TaxDeterminationDate>



              <tt:loop name="wa_Item" ref="$wa_JournalEntry.item">
                <Item>
                  <ReferenceDocumentItem>
                    <tt:value ref="$wa_Item.referencedocumentitem"/>
                  </ReferenceDocumentItem>
                  <CompanyCode>
                    <tt:value ref="$wa_Item.companycode"/>
                  </CompanyCode>
                  <GLAccount>
                    <tt:value ref="$wa_Item.glaccount"/>
                  </GLAccount>
                  <AmountInTransactionCurrency currencyCode="INR">
                    <tt:value ref="$wa_Item.amountintransactioncurrency"/>
                  </AmountInTransactionCurrency>
                  <DebitCreditCode>
                    <tt:value ref="$wa_Item.debitcreditcode"/>
                  </DebitCreditCode>
                  <DocumentItemText>
                    <tt:value ref="$wa_Item.documentitemtext"/>
                  </DocumentItemText>
                  <AssignmentReference/>
                  <HouseBank>
                    <tt:value ref="$wa_Item.housebank"/>
                  </HouseBank>
                  <HouseBankAccount>
                    <tt:value ref="$wa_Item.housebankaccount"/>
                  </HouseBankAccount>
                  <TaxSection>
                    <tt:value ref="$wa_Item.TaxSection"/>
                  </TaxSection>
                  <AccountAssignment>
                    <ProfitCenter>
                      <tt:value ref="$wa_Item.AccountAssignment.profitCenter"/>
                    </ProfitCenter>
                     <CostCenter>
                      <tt:value ref="$wa_Item.AccountAssignment.costCenter"/>
                    </CostCenter>
                  </AccountAssignment>
                  <ProfitabilitySupplement>
                    <SalesOrganization>
                      <tt:value ref="$wa_Item.ProfitabilitySupplement.SalesOrganization"/>
                    </SalesOrganization>
                    <DistributionChannel>
                      <tt:value ref="$wa_Item.ProfitabilitySupplement.DistributionChannel"/>
                    </DistributionChannel>
                    <Division>
                      <tt:value ref="$wa_Item.ProfitabilitySupplement.Division"/>
                    </Division>
                  </ProfitabilitySupplement>

                  <Tax>
                    <TaxCode>
                      <tt:value ref="$wa_Item.Tax.TaxCode"/>
                    </TaxCode>
                    <TaxItemGroup>
                      <tt:value ref="$wa_Item.Tax.TaxItemGroup"/>
                    </TaxItemGroup>
                  </Tax>

                </Item>
              </tt:loop>


               <tt:loop name="wa_CreditorItem" ref="$wa_JournalEntry.CreditorItem">
                <CreditorItem>
                  <ReferenceDocumentItem>
                    <tt:value ref="$wa_CreditorItem.ReferenceDocumentItem"/>
                  </ReferenceDocumentItem>
                  <Creditor>
                    <tt:value ref="$wa_CreditorItem.Creditor"/>
                  </Creditor>
                  <AmountInTransactionCurrency currencyCode="INR">
                    <tt:value ref="$wa_CreditorItem.AmountInTransactionCurrency"/>
                  </AmountInTransactionCurrency>
                  <DocumentItemText>
                    <tt:value ref="$wa_CreditorItem.DocumentItemText"/>
                  </DocumentItemText>
                  <BusinessPlace>
                    <tt:value ref="$wa_CreditorItem.BusinessPlace"/>
                  </BusinessPlace>
                  <SpecialGLCode>
                    <tt:value ref="$wa_CreditorItem.SpecialGLCode"/>
                  </SpecialGLCode>

                  <OneTimeCustomerDetails>
                    <Name>
                      <tt:value ref="$wa_CreditorItem.OneTimeCustomerDetails.Name"/>
                    </Name>
                    <CityName>
                      <tt:value ref="$wa_CreditorItem.OneTimeCustomerDetails.CityName"/>
                    </CityName>
                    <Country>
                      <tt:value ref="$wa_CreditorItem.OneTimeCustomerDetails.Country"/>
                    </Country>
                    <Region>
                      <tt:value ref="$wa_CreditorItem.OneTimeCustomerDetails.Region"/>
                    </Region>
                  </OneTimeCustomerDetails>
                  <DownPaymentTerms>
                     <SpecialGLCode>
                      <tt:value ref="$wa_CreditorItem.DownPaymentTerms.SpecialGLCode"/>
                     </SpecialGLCode>
                  </DownPaymentTerms>

                </CreditorItem>
              </tt:loop>

              <tt:loop name="wa_ProductTaxItem" ref="$wa_JournalEntry.ProductTaxItem">
                <ProductTaxItem>
                  <TaxCode>
                    <tt:value ref="$wa_ProductTaxItem.TaxCode"/>
                  </TaxCode>
                  <TaxItemGroup>
                    <tt:value ref="$wa_ProductTaxItem.TaxItemGroup"/>
                  </TaxItemGroup>
                  <TaxItemClassification>
                    <tt:value ref="$wa_ProductTaxItem.TaxItemClassification"/>
                  </TaxItemClassification>
                  <AmountInTransactionCurrency currencyCode="INR">
                    <tt:value ref="$wa_ProductTaxItem.AmountInTransactionCurrency"/>
                  </AmountInTransactionCurrency>
                  <TaxBaseAmountInTransCrcy currencyCode="INR">
                    <tt:value ref="$wa_ProductTaxItem.TaxBaseAmountInTransCrcy"/>
                  </TaxBaseAmountInTransCrcy>
                </ProductTaxItem>
              </tt:loop>

            </JournalEntry>
          </JournalEntryCreateRequest>
              </tt:loop>
        </sfin:JournalEntryBulkCreateRequest>
      </soapenv:Body>
    </soapenv:Envelope>

  </tt:template>

</tt:transform>
